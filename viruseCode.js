/*                            __                    __                    __    __                      __                                    */
/*            __       __     \_\  __          __   \_\  __          __   \_\   \_\  __            __   \_\  __   __       __ __              */
/*            \_\     /_/        \/_/         /_/      \/_/         /_/      \     \/_/           /_/      \/_/   \_\     /_/ \_\             */
/*          .-.  \.-./  .-.   .-./  .-.   .-./  .-.   .-./  .-.   .-./  .-./  .-.   .-./  .-.   .-./  .-.   .-\   .-.  \.-./  .-.  \.-.       */
/*         //-\\_//-\\_//-\\_//-\\_//-\\_//-\\_// \\_//-\\_//-\\_//-\\_//-\\_//-\\_//-\\_//-\\_//-\\_//-\\_//-\\_//-\\_//-\\_//-\\_//-\\      */
/*       __(   '-'   '-'\  '-'   '-'  /'-'   '-'\__''    ‘-‘__/‘-‘   '-'\_ '-'   ‘-‘__/‘-‘   '-'\__'-'   '-'__/'-'   '-'\__'-'        ))      */
/*      /_/))            \__       __/\          \_\       /_/_          \_\       /_/          /_/         \_\         /_/          ((       */
/*   ___\_//              \_\     /_/  \__                   \_\                                                                      \\___   */
/*  /_/  ((                             \_\                                                                                           (( \_\  */
/*       )) __   *///********************************************************************************************************/*       )) __   */
/* __   // /_/   *///********************************************************************************************************/* __   // /_/   */
/* \_\_((_/___   *///********************************************************************************************************/* \_\_((_/___   */
/*      ))  \_\  *///********************************************************************************************************/*      ))  \_\  */
/*      \\       *///********************************************************************************************************/*      \\       */
/*       )) _    *///********************************************************************************************************/*       )) _    */
/* __   // /_/   *///********************************************************************************************************/* __   // /_/   */
/* \_\_((        *///********************************************************************************************************/* \_\_((        */
/*      \\       *///********************************************************************************************************/*      \\       */
/*      ((       *///********************************************************************************************************/*      ((       */
/*       )) __   */          //                      .ed"""" """$$$$be.                     **************/*       )) __   */
/* __   // /_/   */          //                    -"           ^""**$$$e.                  **************/* __   // /_/   */
/* \_\_((_/___   */          //                  ."                   '$$$c                 **************/* \_\_((_/___   */
/*      ))  \_\  */          //                 /                      "4$$b                **************/*      ))  \_\  */
/*      \\       */          //                d  3                     $$$$                **************/*      \\       */
/*       )) _    */          //                $  *                   .$$$$$$               **************/*       )) _    */
/* __   // /_/   */          //               .$  ^c           $$$$$e$$$$$$$$.              **************/* __   // /_/   */
/* \_\_((        */          //               d$L  4.         4$$$$$$$$$$$$$$b              **************/* \_\_((        */
/*      \\       */          //               $$$$b ^ceeeee.  4$$ECL.F*$$$$$$$              **************/*      \\       */
/*      ((       */          //   e$""=.      $$$$P d$$$$F $ $$$$$$$$$- $$$$$$              **************/*      ((       */
/*       )) __   */          //  z$$b. ^c     3$$$F "$$$$b   $"$$$$$$$  $$$$*"      .=""$c  **************/*       )) __   */
/* __   // /_/   */          // 4$$$$L   \     $$P"  "$$b   .$ $$$$$...e$$        .=  e$$$. **************/* __   // /_/   */
/* \_\_((_/___   */          // ^*$$$$$c  %..   *c    ..    $$ 3$$$$$$$$$$eF     zP  d$$$$$ **************/* \_\_((_/___   */
/*      ))  \_\  */          //   "**$$$ec   "\   %ce""    $$$  $$$$$$$$$$*    .r" =$$$$P"" **************/*      ))  \_\  */
/*      \\       */          //         "*$b.  "c  *$e.    *** d$$$$$"L$$    .d"  e$$***"   **************/*      \\       */
/*       )) _    */          //           ^*$$c ^$c $$$      4J$$$$$% $$$ .e*".eeP"         **************/*       )) _    */
/* __   // /_/   */          //              "$$$$$$"'$=e....$*$$**$cz$$" "..d$*"           **************/* __   // /_/   */
/* \_\_((        */          //                "*$$$  *=%4.$ L L$ P3$$$F $$$P"              **************/* \_\_((        */
/*      \\       */          //                   "$   "%*ebJLzb$e$$$$$b $P"                **************/*      \\       */
/*      ((       */          //                     %..      4$$$$$$$$$$ "                  **************/*      ((       */
/*       )) __   */          //                      $$$e   z$$$$$$$$$$%                    **************/*       )) __   */
/* __   // /_/   */          //                       "*$c  "$$$$$$$P"                      **************/* __   // /_/   */
/* \_\_((_/___   */          //                        ."""*$$$$$$$$bc                      **************/* \_\_((_/___   */
/*      ))  \_\  */          //                     .-"    .$***$$$"""*e.                   **************/*      ))  \_\  */
/*      \\       */          //                  .-"    .e$"     "*$c  ^*b.                 **************/*      \\       */
/*       )) _    */          //           .=*""""    .e$*"          "*bc  "*$e..            **************/*       )) _    */
/* __   // /_/   */          //         .$"        .z*"               ^*$e.   "*****e.      **************/* __   // /_/   */
/* \_\_((        */          //         $$ee$c   .d"                     "*$.        3.     **************/* \_\_((        */
/*      \\       */          //         ^*$E")$..$"                         *   .ee==d%     **************/*      \\       */
/*      ((       */          //            $.d$$$*                           *  J$$$e*      **************/*      ((       */
/*       )) __   */          //             """""                             "$$$"   ********************/*       )) __   */
/*       )) __   *///                          ..,co88oc.oo8888cc,..**************************************/*       )) __   */
/* __   // /_/   *///   o8o.               ..,o8889689ooo888o"88888888oooc..******************************/* __   // /_/   */
/* \_\_((_/___   */// .88888             .o888896888".88888888o'?888888888889ooo....**********************/* \_\_((_/___   */
/*      ))  \_\  */// a888P          ..c6888969""..,"o888888888o.?8888888888"".ooo8888oo.*****************/*      ))  \_\  */
/*      \\       */// 088P        ..atc88889"".,oo8o.86888888888o 88988889",o888888888888.****************/*      \\       */
/*       )) _    */// 888t  ...coo688889"'.ooo88o88b.'86988988889 8688888'o8888896989^888o****************/*       )) _    */
/* __   // /_/   *///  888888888888"..ooo888968888888  "9o688888' "888988 8888868888'o88888***************/* __   // /_/   */
/* \_\_((        *///   ""G8889""'ooo888888888888889 .d8o9889""'   "8688o."88888988"o888888o .************/* \_\_((        */
/*      \\       *///            o8888'""""""""""'   o8688"          88868. 888888.68988888"o8o.**********/*      \\       */
/*      ((       *///            88888o.              "8888ooo.        '8888. 88888.8898888o"888o.********/*      ((       */
/*       )) __   *///            "888888'               "888888'          '""8o"8888.8869888oo8888o .*****/*       )) __   */
/* __   // /_/   *///       . :.:::::::::::.: .     . :.::::::::.: .   . : ::.:."8888 "888888888888o******/* __   // /_/   */
/* \_\_((_/___   *///                                                         :..8888,. "88888888888.*****/* \_\_((_/___   */
/*      ))  \_\  *///                                                         .:o888.o8o.  "866o9888o*****/*      ))  \_\  */
/*      \\       *///                                                          :888.o8888.  "88."89".*****/*      \\       */
/*       )) _    *///                                                         . 89  888888    "88":.******/*       )) _    */
/* __   // /_/   *///                                                         :.     '8888o***************/* __   // /_/   */
/* \_\_((        *///                                                          .       "8888..************/* \_\_((        */
/*      \\       *///                                                                    888888o.*********/*      \\       */
/*      ((       *///                                                                     "888889,********/*      ((       */
/*       )) __   *///                                                              . : :.:::::::.: :.*****/*       )) __   */
/*       )) __   */          //                      .ed"""" """$$$$be.                     **************/*       )) __   */
/* __   // /_/   */          //                    -"           ^""**$$$e.                  **************/* __   // /_/   */
/* \_\_((_/___   */          //                  ."                   '$$$c                 **************/* \_\_((_/___   */
/*      ))  \_\  */          //                 /                      "4$$b                **************/*      ))  \_\  */
/*      \\       */          //                d  3                     $$$$                **************/*      \\       */
/*       )) _    */          //                $  *                   .$$$$$$               **************/*       )) _    */
/* __   // /_/   */          //               .$  ^c           $$$$$e$$$$$$$$.              **************/* __   // /_/   */
/* \_\_((        */          //               d$L  4.         4$$$$$$$$$$$$$$b              **************/* \_\_((        */
/*      \\       */          //               $$$$b ^ceeeee.  4$$ECL.F*$$$$$$$              **************/*      \\       */
/*      ((       */          //   e$""=.      $$$$P d$$$$F $ $$$$$$$$$- $$$$$$              **************/*      ((       */
/*       )) __   */          //  z$$b. ^c     3$$$F "$$$$b   $"$$$$$$$  $$$$*"      .=""$c  **************/*       )) __   */
/* __   // /_/   */          // 4$$$$L   \     $$P"  "$$b   .$ $$$$$...e$$        .=  e$$$. **************/* __   // /_/   */
/* \_\_((_/___   */          // ^*$$$$$c  %..   *c    ..    $$ 3$$$$$$$$$$eF     zP  d$$$$$ **************/* \_\_((_/___   */
/*      ))  \_\  */          //   "**$$$ec   "\   %ce""    $$$  $$$$$$$$$$*    .r" =$$$$P"" **************/*      ))  \_\  */
/*      \\       */          //         "*$b.  "c  *$e.    *** d$$$$$"L$$    .d"  e$$***"   **************/*      \\       */
/*       )) _    */          //           ^*$$c ^$c $$$      4J$$$$$% $$$ .e*".eeP"         **************/*       )) _    */
/* __   // /_/   */          //              "$$$$$$"'$=e....$*$$**$cz$$" "..d$*"           **************/* __   // /_/   */
/* \_\_((        */          //                "*$$$  *=%4.$ L L$ P3$$$F $$$P"              **************/* \_\_((        */
/*      \\       */          //                   "$   "%*ebJLzb$e$$$$$b $P"                **************/*      \\       */
/*      ((       */          //                     %..      4$$$$$$$$$$ "                  **************/*      ((       */
/*       )) __   */          //                      $$$e   z$$$$$$$$$$%                    **************/*       )) __   */
/* __   // /_/   */          //                       "*$c  "$$$$$$$P"                      **************/* __   // /_/   */
/* \_\_((_/___   */          //                        ."""*$$$$$$$$bc                      **************/* \_\_((_/___   */
/*      ))  \_\  */          //                     .-"    .$***$$$"""*e.                   **************/*      ))  \_\  */
/*      \\       */          //                  .-"    .e$"     "*$c  ^*b.                 **************/*      \\       */
/*       )) _    */          //           .=*""""    .e$*"          "*bc  "*$e..            **************/*       )) _    */
/* __   // /_/   */          //         .$"        .z*"               ^*$e.   "*****e.      **************/* __   // /_/   */
/* \_\_((        */          //         $$ee$c   .d"                     "*$.        3.     **************/* \_\_((        */
/*      \\       */          //         ^*$E")$..$"                         *   .ee==d%     **************/*      \\       */
/*      ((       */          //            $.d$$$*                           *  J$$$e*      **************/*      ((       */
/*       )) __   */          //             """""                             "$$$"   ********************/*       )) __   */
/*       )) __   */var express = require('express');//****************************************************/*       )) __   */
/* __   // /_/   */var bodyParser = require('body-parser')//**********************************************/* __   // /_/   */
/* \_\_((_/___   */var app = express();//*****************************************************************/* \_\_((_/___   */
/*      ))  \_\  */var hbs = require('express-hbs');//****************************************************/*      ))  \_\  */
/*      \\       */app.use(bodyParser());//***************************************************************/*      \\       */
/*       )) _    */app.engine('hbs', hbs.express3());//***************************************************/*       )) _    */
/* __   // /_/   */app.set('view engine', 'hbs');//*******************************************************/* __   // /_/   */
/* \_\_((        */app.set('views', __dirname + '/views');//**********************************************/* \_\_((        */
/*      \\       */if (!module.parent) {//****************************************************************/*      \\       */
/*      ((       */  var server = app.listen(3000);//*****************************************************/*      ((       */
/*       )) __   */  console.log('Express started on port 3000');//***************************************/*       )) __   */
/* __   // /_/   */}//************************************************************************************/* __   // /_/   */
/* \_\_((_/___   *///======================================================//*****************************/* \_\_((_/___   */
/*      ))  \_\  *///=================SET UP WEBSOCKETS====================//*****************************/*      ))  \_\  */
/*      \\       *///======================================================//*****************************/*      \\       */
/*       )) _    */var io = require('socket.io').listen(server);//****************************************/*       )) _    */
/* __   // /_/   */io.sockets.on('connection', function(socket){//****************************************/* __   // /_/   */
/* \_\_((        */  console.log('a user connected');//***************************************************/* \_\_((        */
/*      \\       */  socketCheckIn(socket);//*************************************************************/*      \\       */
/*      ((       */  socketMissionComplete(socket);//*****************************************************/*      ((       */
/*       )) __   */  socket.on('disconnect', function(){//************************************************/*       )) __   */
/* __   // /_/   */    console.log("client has disconnect");//********************************************/* __   // /_/   */
/* \_\_((_/___   */  });//********************************************************************************/* \_\_((_/___   */
/*      ))  \_\  */});//**********************************************************************************/*      ))  \_\  */
/*      \\       *///======================================================//*****************************/*      \\       */
/*       )) _    *///===============CONNECT TO DATA BASE===================//*****************************/*       )) _    */
/* __   // /_/   *///======================================================//*****************************/* __   // /_/   */
/* \_\_((        */var mongoose = require('mongoose');//**************************************************/* \_\_((        */
/*      \\       */mongoose.connect('mongodb://dansakidavid:cloudcom@ds051960.mongolab.com:51960/cloudcommuting');///*      \\       */
/*      ((       */var db = mongoose.connection;//********************************************************/*      ((       */
/*       )) __   */db.on('error', console.error.bind(console, 'connection error:'));//********************/*       )) __   */
/* __   // /_/   */db.once('open', function callback () {//***********************************************/* __   // /_/   */
/* \_\_((_/___   */  console.log("Database Connected")//**************************************************/* \_\_((_/___   */
/*      ))  \_\  */});//**********************************************************************************/*      ))  \_\  */
/*      \\       *///======================================================//*****************************/*      \\       */
/*       )) _    *///===============SET UP DATABASE SCHEMES================//*****************************/*       )) _    */
/* __   // /_/   *///======================================================//*****************************/* __   // /_/   */
/* \_\_((        */var Schema = mongoose.Schema;//********************************************************/* \_\_((        */
/*      \\       */var stationSchema = Schema({//*********************************************************/*      \\       */
/*      ((       */  stationId : Number,//****************************************************************/*      ((       */
/*       )) __   */  inventory: {type: Number, default: 3}//**********************************************/*       )) __   */
/* __   // /_/   */  //currentPointsOffered: Number//*****************************************************/* __   // /_/   */
/* \_\_((_/___   */});//**********************************************************************************/* \_\_((_/___   */
/*      ))  \_\  */var playerSchema = Schema({     //*****************************************************/*      ))  \_\  */
/*      \\       */  playerId : Number,//*****************************************************************/*      \\       */
/*       )) _    */  points: { type: Number, default: 0  },//*********************************************/*       )) _    */
/* __   // /_/   */  stock: {type: Boolean, default: false}//*********************************************/* __   // /_/   */
/* \_\_((        */});  //********************************************************************************/* \_\_((        */
/*      \\       */var checkInSchema = Schema({//*********************************************************/*      \\       */
/*      ((       */  playerId: Number,//******************************************************************/*      ((       */
/*       )) __   */  stationId: Number,//*****************************************************************/*       )) __   */
/* __   // /_/   */  stationInventory: Number,//**********************************************************/* __   // /_/   */
/* \_\_((_/___   */  pickUpDropOff: Boolean,//************************************************************/* \_\_((_/___   */
/*      ))  \_\  */  timeDate: { type: Date, default: Date.now }//****************************************/*      ))  \_\  */
/*      \\       */})    //*******************************************************************************/*      \\       */
/*       )) _    */var gameSchema = Schema({//************************************************************/*       )) _    */
/* __   // /_/   */  checkIns: [checkInSchema]//**********************************************************/* __   // /_/   */
/* \_\_((        */}) //**********************************************************************************/* \_\_((        */
/*      \\       */var Station = mongoose.model('Station', stationSchema);//******************************/*      \\       */
/*      ((       */var Player = mongoose.model('Player', playerSchema);//*********************************/*      ((       */
/*       )) __   */var CheckIn = mongoose.model('CheckIn', checkInSchema);//******************************/*       )) __   */
/* __   // /_/   */var Game = mongoose.model('Game', gameSchema);//***************************************/* __   // /_/   */
/* \_\_((_/___   *///======================================================//*****************************/* \_\_((_/___   */
/*      ))  \_\  *///====================SET UP ROUTES=====================//*****************************/*      ))  \_\  */
/*      \\       *///======================================================//*****************************/*      \\       */
/*       )) _    */var bonusTime = 10000;//***************************************************************/*       )) _    */
/* __   // /_/   */var stationBonus= [];        //array of allstations bonuses//**************************/* __   // /_/   */
/* \_\_((        */var stationBonusOn = [];//*************************************************************/* \_\_((        */
/*      \\       */var allPlayersData = [];           //var to locally store updated player data//********/*      \\       */
/*      ((       */var allStationsData = [];//************************************************************/*      ((       */
/*       )) __   */var prevPlayersStation = [0,0,0,0,0,0,0,0,0,0];          //var to locally store updated station data///*       )) __   */
/* __   // /_/   */var numPlayers = 15;//*****************************************************************/* __   // /_/   */
/* \_\_((_/___   */var numStations = 6;//*****************************************************************/* \_\_((_/___   */
/*      ))  \_\  *///bonus set up//***********************************************************************/*      ))  \_\  */
/*      \\       */for (var i = 0; i<numStations; i++){//*************************************************/*      \\       */
/*       )) _    */  stationBonus.push(0);//**************************************************************/*       )) _    */
/* __   // /_/   */  stationBonusOn.push(false);//********************************************************/* __   // /_/   */
/* \_\_((        */}  //**********************************************************************************/* \_\_((        */
/*      \\       */for (var i = 0; i<numPlayers; i++){//**************************************************/*      \\       */
/*      ((       */  prevPlayersStation.push(0);//********************************************************/*      ((       */
/*       )) __   */}  //**********************************************************************************/*       )) __   */
/* __   // /_/   */var newGame = new Game();//************************************************************/* __   // /_/   */
/* \_\_((_/___   */app.get('/', function(req, res) {//****************************************************/* \_\_((_/___   */
/*      ))  \_\  */    res.send('Hello World');//*********************************************************/*      ))  \_\  */
/*      \\       */});//**********************************************************************************/*      \\       */
/*       )) _    */app.get('/addStation/:stationId', function(req, res){//********************************/*       )) _    */
/* __   // /_/   */    var stationId = req.params.stationId;//********************************************/* __   // /_/   */
/* \_\_((        */    console.log(stationId);//**********************************************************/* \_\_((        */
/*      \\       */    var newStation = new Station();//**************************************************/*      \\       */
/*      ((       */    newStation.stationId = stationId;//************************************************/*      ((       */
/*       )) __   */    newStation.save();//***************************************************************/*       )) __   */
/* __   // /_/   */    console.log("Station " + stationId + " created.");//*******************************/* __   // /_/   */
/* \_\_((_/___   */    res.end("Station " + stationId + " created.");//***********************************/* \_\_((_/___   */
/*      ))  \_\  */});//**********************************************************************************/*      ))  \_\  */
/*      \\       */app.get('/stationsUpdate', function(req, res){//***************************************/*      \\       */
/*       )) _    */  stationsUpdate();//******************************************************************/*       )) _    */
/* __   // /_/   */    //console.log(allStationsData);//**************************************************/* __   // /_/   */
/* \_\_((        */    res.end("Stations Update");//******************************************************/* \_\_((        */
/*      \\       */});//**********************************************************************************/*      \\       */
/*      ((       */app.get('/addPlayer/:playerId', function(req, res){//**********************************/*      ((       */
/*       )) __   */    var playerId = req.params.playerId;//**********************************************/*       )) __   */
/* __   // /_/   */    console.log(playerId);//***********************************************************/* __   // /_/   */
/* \_\_((_/___   */    var newPlayer = new Player();//****************************************************/* \_\_((_/___   */
/*      ))  \_\  */    newPlayer.playerId = playerId;//***************************************************/*      ))  \_\  */
/*      \\       */    newPlayer.save();//****************************************************************/*      \\       */
/*       )) _    */    console.log("Player " + playerId + " created.");//*********************************/*       )) _    */
/* __   // /_/   */    res.end("Player " + playerId + " created.");//*************************************/* __   // /_/   */
/* \_\_((        */});//**********************************************************************************/* \_\_((        */
/*      \\       */app.get('/playersUpdate', function(req, res){//****************************************/*      \\       */
/*      ((       */  playersUpdate();//*******************************************************************/*      ((       */
/*       )) __   */   res.end("Players Update");//********************************************************/*       )) __   */
/* __   // /_/   */ });//*********************************************************************************/* __   // /_/   */
/* \_\_((_/___   */app.get('/setBonus/:bonus', function(req, res){//**************************************/* \_\_((_/___   */
/*      ))  \_\  */  bonusTime = req.params.bonus*1000;//*************************************************/*      ))  \_\  */
/*      \\       */  console.log(bonusTime);//************************************************************/*      \\       */
/*       )) _    */  clearInterval(bonusID);//************************************************************/*       )) _    */
/* __   // /_/   */  bonusID = setInterval(bonusUpdate, bonusTime);//*************************************/* __   // /_/   */
/* \_\_((        */  res.end("Bonus set to " + bonusTime/1000 + " seconds.");//***************************/* \_\_((        */
/*      \\       */});//**********************************************************************************/*      \\       */
/*      ((       */app.get('/resetGame', function(req, res){//********************************************/*      ((       */
/*       )) __   */  resetGame(function(value){//*********************************************************/*       )) __   */
/* __   // /_/   */    stationsUpdate(value);//***********************************************************/* __   // /_/   */
/* \_\_((_/___   */    playersUpdate(value);//************************************************************/* \_\_((_/___   */
/*      ))  \_\  */  });//********************************************************************************/*      ))  \_\  */
/*      \\       */  res.end("Game Reset")//**************************************************************/*      \\       */
/*       )) _    */});//**********************************************************************************/*       )) _    */
/* __   // /_/   *///======================================================//*****************************/* __   // /_/   */
/* \_\_((        *///====================YUN ROUTE++++=====================//*****************************/* \_\_((        */
/*      \\       *///======================================================//*****************************/*      \\       */
/*      ((       */app.get('/station/:stationId/player/:playerId/', function(req, res) {//****************/*      ((       */
/*       )) __   */  //checks station status and send user an alert//*************************************/*       )) __   */
/* __   // /_/   */  var stationId = req.params.stationId;  // station Number//***************************/* __   // /_/   */
/* \_\_((_/___   */  var playerId = req.params.playerId;//************************************************/* \_\_((_/___   */
/*      ))  \_\  */  var lastStation = prevPlayersStation[playerId-1];//**********************************/*      ))  \_\  */
/*      \\       */  var checkInData = [playerId,stationId, lastStation];//*******************************/*      \\       */
/*       )) _    */  console.log("Player "+  playerId + " at station "+ stationId + ".");//***************/*       )) _    */
/* __   // /_/   */  io.sockets.emit( 'playerCheckIn', checkInData);    //send to player client on phone stationID + playerStock///* __   // /_/   */
/* \_\_((        */  res.end("Player "+  playerId + " at station "+ stationId + ".");//*******************/* \_\_((        */
/*      \\       */});//**********************************************************************************/*      \\       */
/*      ((       *///======================================================//*****************************/*      ((       */
/*       )) __   *///===============Player Phone ROUTE=====================//*****************************/*       )) __   */
/* __   // /_/   *///======================================================//*****************************/* __   // /_/   */
/* \_\_((_/___   */app.get('/player/:playerId', function(req, res){//*************************************/* \_\_((_/___   */
/*      ))  \_\  */    var playerID = req.params.playerId;//**********************************************/*      ))  \_\  */
/*      \\       */    res.render('home', {//*************************************************************/*      \\       */
/*       )) _    */      mPlayer  :  playerID      //*****************************************************/*       )) _    */
/* __   // /_/   */    });//******************************************************************************/* __   // /_/   */
/* \_\_((        */});//**********************************************************************************/* \_\_((        */
/*      \\       */app.get('/master', function(req, res){//***********************************************/*      \\       */
/*      ((       */    res.render('home', {//*************************************************************/*      ((       */
/*       )) __   */      mPlayer  :  0      //************************************************************/*       )) __   */
/* __   // /_/   */    });//******************************************************************************/* __   // /_/   */
/* \_\_((_/___   */});//**********************************************************************************/* \_\_((_/___   */
/*      ))  \_\  *///======================================================//*****************************/*      ))  \_\  */
/*      \\       *///===========++====HELPER FUNCTIONS=====================//*****************************/*      \\       */
/*       )) _    *///======================================================//*****************************/*       )) _    */
/* __   // /_/   *///How we calcuate how many points players get for dropping off and picking up//********/* __   // /_/   */
/* \_\_((        */var calcDropOffPoints = function(inventory, bonus){//**********************************/* \_\_((        */
/*      \\       */  var pointsEarned = 0;//**************************************************************/*      \\       */
/*      ((       */  switch(inventory) {//****************************************************************/*      ((       */
/*       )) __   */      case 0://************************************************************************/*       )) __   */
/* __   // /_/   */          pointsEarned = 25 + bonus;   //figure out the bonus//************************/* __   // /_/   */
/* \_\_((_/___   */          break;//*********************************************************************/* \_\_((_/___   */
/*      ))  \_\  */      case 1://************************************************************************/*      ))  \_\  */
/*      \\       */          pointsEarned = 25;//*********************************************************/*      \\       */
/*       )) _    */          break;//*********************************************************************/*       )) _    */
/* __   // /_/   */      case 2://************************************************************************/* __   // /_/   */
/* \_\_((        */          pointsEarned = 15;//*********************************************************/* \_\_((        */
/*      \\       */          break;//*********************************************************************/*      \\       */
/*      ((       */      case 3://************************************************************************/*      ((       */
/*       )) __   */          pointsEarned = 5;//**********************************************************/*       )) __   */
/* __   // /_/   */          break;//*********************************************************************/* __   // /_/   */
/* \_\_((_/___   */      case 4://************************************************************************/* \_\_((_/___   */
/*      ))  \_\  */          pointsEarned = 0;           //figure out this//******************************/*      ))  \_\  */
/*      \\       */          break;  //*******************************************************************/*      \\       */
/*       )) _    */      default://***********************************************************************/*       )) _    */
/* __   // /_/   */         pointsEarned = 45;//**********************************************************/* __   // /_/   */
/* \_\_((        */         break;  //not//***************************************************************/* \_\_((        */
/*      \\       */  }//**********************************************************************************/*      \\       */
/*      ((       */  return pointsEarned;//***************************************************************/*      ((       */
/*       )) __   */}//************************************************************************************/*       )) __   */
/* __   // /_/   */var calcPickUpPoints = function(inventory, bonus){//***********************************/* __   // /_/   */
/* \_\_((_/___   */  var pointsEarned = 0;//**************************************************************/* \_\_((_/___   */
/*      ))  \_\  */  switch(inventory) {//****************************************************************/*      ))  \_\  */
/*      \\       */      case 0://************************************************************************/*      \\       */
/*       )) _    */          pointsEarned = 0;      //figure out this//***********************************/*       )) _    */
/* __   // /_/   */          break;//*********************************************************************/* __   // /_/   */
/* \_\_((        */      case 1://************************************************************************/* \_\_((        */
/*      \\       */          pointsEarned = 5;//**********************************************************/*      \\       */
/*      ((       */          break;//*********************************************************************/*      ((       */
/*       )) __   */      case 2://************************************************************************/*       )) __   */
/* __   // /_/   */          pointsEarned = 10;//*********************************************************/* __   // /_/   */
/* \_\_((_/___   */          break;//*********************************************************************/* \_\_((_/___   */
/*      ))  \_\  */      case 3://************************************************************************/*      ))  \_\  */
/*      \\       */          pointsEarned = 25 ;//********************************************************/*      \\       */
/*       )) _    */          break;//*********************************************************************/*       )) _    */
/* __   // /_/   */      case 4://************************************************************************/* __   // /_/   */
/* \_\_((        */          pointsEarned = 25 + bonus;   //figure out the bonus//************************/* \_\_((        */
/*      \\       */          break;  //*******************************************************************/*      \\       */
/*      ((       */      default://***********************************************************************/*      ((       */
/*       )) __   */          pointsEarned = 45;//*********************************************************/*       )) __   */
/* __   // /_/   */          break;   //not//*************************************************************/* __   // /_/   */
/* \_\_((_/___   */  }//**********************************************************************************/* \_\_((_/___   */
/*      ))  \_\  */  return pointsEarned;//***************************************************************/*      ))  \_\  */
/*      \\       */}//************************************************************************************/*      \\       */
/*       )) _    *///update Local player and station data to send to Client//*****************************/*       )) _    */
/* __   // /_/   */var playersUpdate = function(){//******************************************************/* __   // /_/   */
/* \_\_((        */  console.log('=======================');//********************************************/* \_\_((        */
/*      \\       */  console.log('in Player Update');//***************************************************/*      \\       */
/*      ((       */  console.log('=======================');//********************************************/*      ((       */
/*       )) __   */ allPlayersData = [];      //**********************************************************/*       )) __   */
/* __   // /_/   */ for (var i = 0; i < numPlayers; i++ ){//**********************************************/* __   // /_/   */
/* \_\_((_/___   */    thisPlayer = [];//*****************************************************************/* \_\_((_/___   */
/*      ))  \_\  */    Player.findOne({ 'playerId': i+1 }, function (err, player) {//*********************/*      ))  \_\  */
/*      \\       */        if (err) return handleError(err);//********************************************/*      \\       */
/*       )) _    */        thisPlayer.push(player.playerId);//********************************************/*       )) _    */
/* __   // /_/   */        thisPlayer.push(player.points);//**********************************************/* __   // /_/   */
/* \_\_((        */        thisPlayer.push(player.stock);//***********************************************/* \_\_((        */
/*      \\       */        allPlayersData.push(thisPlayer);//*********************************************/*      \\       */
/*      ((       */        thisPlayer = [];//*************************************************************/*      ((       */
/*       )) __   */       if (allPlayersData.length>numPlayers-1){//**************************************/*       )) __   */
/* __   // /_/   */          console.log(allPlayersData);//***********************************************/* __   // /_/   */
/* \_\_((_/___   */          io.sockets.emit( 'playerUpdate', allPlayersData);    //every player and their points///* \_\_((_/___   */
/*      ))  \_\  */        }//****************************************************************************/*      ))  \_\  */
/*      \\       */    });//******************************************************************************/*      \\       */
/*       )) _    */  }//**********************************************************************************/*       )) _    */
/* __   // /_/   */}//************************************************************************************/* __   // /_/   */
/* \_\_((        */var stationsUpdate = function(){//*****************************************************/* \_\_((        */
/*      \\       */  console.log('=======================');//********************************************/*      \\       */
/*      ((       */  console.log('in Station Update');//**************************************************/*      ((       */
/*       )) __   */  console.log('======================='); //*******************************************/*       )) __   */
/* __   // /_/   */  allStationsData = [];//**************************************************************/* __   // /_/   */
/* \_\_((_/___   */  for (var i = 0; i < numStations; i++ ){//********************************************/* \_\_((_/___   */
/*      ))  \_\  */    thisStation = [];//****************************************************************/*      ))  \_\  */
/*      \\       */    Station.findOne({ 'stationId': i+1 }, function (err, station) {//******************/*      \\       */
/*       )) _    */        if (err) return handleError(err);//********************************************/*       )) _    */
/* __   // /_/   */        thisStation.push(station.stationId);     //allStationData[i][0] = station ID//*/* __   // /_/   */
/* \_\_((        */        thisStation.push(station.inventory);     //allStationData[i][1] = station Inventory///* \_\_((        */
/*      \\       */        thisStation.push(stationBonusOn[station.stationId-1]);//***********************/*      \\       */
/*      ((       */        thisStation.push(stationBonus[station.stationId-1]);  //***********************/*      ((       */
/*       )) __   */        allStationsData.push(thisStation); //******************************************/*       )) __   */
/* __   // /_/   */        thisStation = [];      //******************************************************/* __   // /_/   */
/* \_\_((_/___   */        if (allStationsData.length==numStations){//************************************/* \_\_((_/___   */
/*      ))  \_\  */           console.log(allStationsData);//*********************************************/*      ))  \_\  */
/*      \\       */           io.sockets.emit('stationUpdate', allStationsData);    // every station and its inventory  ///*      \\       */
/*       )) _    */        }                 //***********************************************************/*       )) _    */
/* __   // /_/   */    });//******************************************************************************/* __   // /_/   */
/* \_\_((        */  }//**********************************************************************************/* \_\_((        */
/*      \\       */}//************************************************************************************/*      \\       */
/*      ((       *///this should be called every 10 sec or so//*******************************************/*      ((       */
/*       )) __   */var bonusUpdate = function(){//********************************************************/*       )) __   */
/* __   // /_/   */  console.log('=======================');//********************************************/* __   // /_/   */
/* \_\_((_/___   */  console.log('in Bonus Update');//****************************************************/* \_\_((_/___   */
/*      ))  \_\  */  console.log('=======================');//********************************************/*      ))  \_\  */
/*      \\       */  var numBonus = 0;//******************************************************************/*      \\       */
/*       )) _    */   console.log(stationBonus);//********************************************************/*       )) _    */
/* __   // /_/   */  for (var i = 0; i<numStations; i++){//***********************************************/* __   // /_/   */
/* \_\_((        */    if (allStationsData[i]){//*********************************************************/* \_\_((        */
/*      \\       */      var index = allStationsData[i][0]-1;//*******************************************/*      \\       */
/*      ((       */      if (allStationsData[i][1] == 0 || allStationsData[i][1] == 5){//*****************/*      ((       */
/*       )) __   */            stationBonusOn[index] = true;//********************************************/*       )) __   */
/* __   // /_/   */      }else{//*************************************************************************/* __   // /_/   */
/* \_\_((_/___   */            stationBonusOn[index] = false;//*******************************************/* \_\_((_/___   */
/*      ))  \_\  */            stationBonus[index] = 0;//*************************************************/*      ))  \_\  */
/*      \\       */      }//******************************************************************************/*      \\       */
/*       )) _    */      if (stationBonusOn[index] == true){//********************************************/*       )) _    */
/* __   // /_/   */          stationBonus[index] = stationBonus[index] + numPlayers;//********************/* __   // /_/   */
/* \_\_((        */          numBonus ++;//***************************************************************/* \_\_((        */
/*      \\       */      }//******************************************************************************/*      \\       */
/*      ((       */    }//********************************************************************************/*      ((       */
/*       )) __   */  }//**********************************************************************************/*       )) __   */
/* __   // /_/   */ for (var j = 0; j<numPlayers; j++){//*************************************************/* __   // /_/   */
/* \_\_((_/___   */      //console.log("player index : "+ j);//*******************************************/* \_\_((_/___   */
/*      ))  \_\  */      Player.findOne({ 'playerId': j+1 }, function (err, player) {//*******************/*      ))  \_\  */
/*      \\       */        //console.log("DB player index : "+ j);//**************************************/*      \\       */
/*       )) _    */        if (err) return handleError(err);//********************************************/*       )) _    */
/* __   // /_/   */        player.points = player.points - 1*numBonus;//**********************************/* __   // /_/   */
/* \_\_((        */        player.save();//***************************************************************/* \_\_((        */
/*      \\       */      });//****************************************************************************/*      \\       */
/*      ((       */  }//**********************************************************************************/*      ((       */
/*       )) __   */ console.log(stationBonus);//**********************************************************/*       )) __   */
/* __   // /_/   */return stationsUpdate(), playersUpdate();//********************************************/* __   // /_/   */
/* \_\_((_/___   */}//************************************************************************************/* \_\_((_/___   */
/*      ))  \_\  *///               //updateBonus every 10 secs//*****************************************/*      ))  \_\  */
/*      \\       */setInterval(bonusUpdate, 10000);//*****************************************************/*      \\       */
/*       )) _    */setInterval( stationsUpdate, 500);//***************************************************/*       )) _    */
/* __   // /_/   */setInterval( playersUpdate, 500);//****************************************************/* __   // /_/   */
/* \_\_((        */var resetGame = function(){//**********************************************************/* \_\_((        */
/*      \\       */  newGame.save();//********************************************************************/*      \\       */
/*      ((       */  newGame = new Game();//**************************************************************/*      ((       */
/*       )) __   */  console.log('=======================');//********************************************/*       )) __   */
/* __   // /_/   */  console.log('in Reset Game');//******************************************************/* __   // /_/   */
/* \_\_((_/___   */  console.log('=======================');//********************************************/* \_\_((_/___   */
/*      ))  \_\  */  prevPlayersStation = [0,0,0,0,0,0,0,0,0,0];//****************************************/*      ))  \_\  */
/*      \\       */  stationBonus= [];               //array of allstations bonuses//*********************/*      \\       */
/*       )) _    */  stationBonusOn = [];//***************************************************************/*       )) _    */
/* __   // /_/   */  allPlayersData = [];           //var to locally store updated player data//**********/* __   // /_/   */
/* \_\_((        */  allStationsData = [];          //var to locally store updated station data//*********/* \_\_((        */
/*      \\       */  //bonus set up//*********************************************************************/*      \\       */
/*      ((       */  for (var i = 0; i<numStations; i++){//***********************************************/*      ((       */
/*       )) __   */    stationBonus.push(0);//************************************************************/*       )) __   */
/* __   // /_/   */    stationBonusOn.push(false);//******************************************************/* __   // /_/   */
/* \_\_((_/___   */  }  //********************************************************************************/* \_\_((_/___   */
/*      ))  \_\  */  for (var i = 0; i<numPlayers; i++){//************************************************/*      ))  \_\  */
/*      \\       */    Player.findOne({ 'playerId': i+1}, function (err, player) {//**********************/*      \\       */
/*       )) _    */            if (err) return handleError(err);//****************************************/*       )) _    */
/* __   // /_/   */            player.stock = false;//****************************************************/* __   // /_/   */
/* \_\_((        */            player.points = 0;//*******************************************************/* \_\_((        */
/*      \\       */            player.save();//***********************************************************/*      \\       */
/*      ((       */    });//******************************************************************************/*      ((       */
/*       )) __   */  };//*********************************************************************************/*       )) __   */
/* __   // /_/   */  for (var i = 0; i<numStations; i++){//***********************************************/* __   // /_/   */
/* \_\_((_/___   */    Station.findOne({ 'stationId': i+1 }, function (err, station) {//******************/* \_\_((_/___   */
/*      ))  \_\  */            if (err) return handleError(err);//****************************************/*      ))  \_\  */
/*      \\       */            station.inventory = 3;//***************************************************/*      \\       */
/*       )) _    */            station.save();//**********************************************************/*       )) _    */
/* __   // /_/   */    });//******************************************************************************/* __   // /_/   */
/* \_\_((        */  };//*********************************************************************************/* \_\_((        */
/*      \\       */  return stationsUpdate(), playersUpdate();//******************************************/*      \\       */
/*      ((       */}//************************************************************************************/*      ((       */
/*       )) __   *///======================================================//*****************************/*       )) __   */
/* __   // /_/   *///=================CHECKIN LISTENER=====================//*****************************/* __   // /_/   */
/* \_\_((_/___   *///======================================================//*****************************/* \_\_((_/___   */
/*      ))  \_\  *///this socket waits for client to respond //*******************************************/*      ))  \_\  */
/*      \\       *///data comes back false if station is full/player is dropping off or empty/player is picking up or player says NO///*      \\       */
/*       )) _    */var socketCheckIn = function(socket){ //***********************************************/*       )) _    */
/* __   // /_/   */  socket.on('checkInConfirm', function(data){  //**************************************/* __   // /_/   */
/* \_\_((        */    console.log("CHECKIN RECEIVED");//*************************************************/* \_\_((        */
/*      \\       */    var stockChange = 0;  // -1 or 1, drop off or pickup //figure//********************/*      \\       */
/*      ((       */    var pointChange = 0;//*************************************************************/*      ((       */
/*       )) __   */    var checkIn = Boolean;//***********************************************************/*       )) __   */
/* __   // /_/   */    console.log(data);//***************************************************************/* __   // /_/   */
/* \_\_((_/___   */    if (data){//***********************************************************************/* \_\_((_/___   */
/*      ))  \_\  */      var playerId = data[0];//********************************************************/*      ))  \_\  */
/*      \\       */      var stationId = data[1];//*******************************************************/*      \\       */
/*       )) _    */      prevPlayersStation[playerId-1] = stationId;//************************************/*       )) _    */
/* __   // /_/   */      console.log(playerId);//*********************************************************/* __   // /_/   */
/* \_\_((        */      Player.findOne({ 'playerId': playerId }, function (err, player) {//**************/* \_\_((        */
/*      \\       */          if (err) return handleError(err);//******************************************/*      \\       */
/*      ((       */          if (player.stock == true) stockChange = 1;//*********************************/*      ((       */
/*       )) __   */          if (player.stock == false) stockChange = -1;//*******************************/*       )) __   */
/* __   // /_/   */       });//***************************************************************************/* __   // /_/   */
/* \_\_((_/___   */      Station.findOne({ 'stationId': stationId}, function (err, station) {//***********/* \_\_((_/___   */
/*      ))  \_\  */          if (err) return handleError(err);//******************************************/*      ))  \_\  */
/*      \\       */          console.log(stockChange);//**************************************************/*      \\       */
/*       )) _    */          if (stockChange<0) pointChange = calcPickUpPoints(station.inventory, stationBonus[stationId-1]); ///*       )) _    */
/* __   // /_/   */          if (stockChange>0) pointChange = calcDropOffPoints(station.inventory, stationBonus[stationId-1]);  ///* __   // /_/   */
/* \_\_((        */          station.inventory = station.inventory + stockChange;//***********************/* \_\_((        */
/*      \\       */          station.save();//************************************************************/*      \\       */
/*      ((       */          Player.findOne({ 'playerId': playerId }, function (err, player) {//**********/*      ((       */
/*       )) __   */              if (err) return handleError(err);//**************************************/*       )) __   */
/* __   // /_/   */              player.stock = !player.stock;//******************************************/* __   // /_/   */
/* \_\_((_/___   */              player.points = player.points + pointChange;//***************************/* \_\_((_/___   */
/*      ))  \_\  */              player.save();//*********************************************************/*      ))  \_\  */
/*      \\       */           })//************************************************************************/*      \\       */
/*       )) _    */     //********************************************************************************/*       )) _    */
/* __   // /_/   */           var newCheckIn = new CheckIn();//*******************************************/* __   // /_/   */
/* \_\_((        */           newCheckIn.playerId = playerId; //******************************************/* \_\_((        */
/*      \\       */           newCheckIn.stationId = stationId;//*****************************************/*      \\       */
/*      ((       */           newCheckIn.stationInventory = station.inventory;//**************************/*      ((       */
/*       )) __   */           if(stockChange == -1) newCheckIn.pickUpDropOff = true;//********************/*       )) __   */
/* __   // /_/   */           if(stockChange == 1) newCheckIn.pickUpDropOff = false;//********************/* __   // /_/   */
/* \_\_((_/___   */           newCheckIn.save();//********************************************************/* \_\_((_/___   */
/*      ))  \_\  */           newGame.checkIns.push(newCheckIn);//****************************************/*      ))  \_\  */
/*      \\       */           newGame.save();//***********************************************************/*      \\       */
/*       )) _    */           })//************************************************************************/*       )) _    */
/* __   // /_/   */        //*****************************************************************************/* __   // /_/   */
/* \_\_((        */      //*******************************************************************************/* \_\_((        */
/*      \\       */    }//********************************************************************************/*      \\       */
/*      ((       */  return stationsUpdate(), playersUpdate();//******************************************/*      ((       */
/*       )) __   */  });//********************************************************************************/*       )) __   */
/* __   // /_/   */}//************************************************************************************/* __   // /_/   */
/* \_\_((_/___   */var socketMissionComplete = function(socket){//****************************************/* \_\_((_/___   */
/*      ))  \_\  */  socket.on('missionComplete', function(data){//***************************************/*      ))  \_\  */
/*      \\       */    var playerId = data[0];//**********************************************************/*      \\       */
/*       )) _    */    Player.findOne({ 'playerId': playerId }, function (err, player) {//****************/*       )) _    */
/* __   // /_/   */              if (err) return handleError(err);//**************************************/* __   // /_/   */
/* \_\_((        */              player.points = player.points - 50;//************************************/* \_\_((        */
/*      \\       */              player.save();//*********************************************************/*      \\       */
/*      ((       */    })//*******************************************************************************/*      ((       */
/*       )) __   */    return stationsUpdate(), playersUpdate();//****************************************/*       )) __   */
/* __   // /_/   */  });//********************************************************************************/* __   // /_/   */
/* \_\_((_/___   */}//************************************************************************************/* \_\_((_/___   */
/*      ))  \_\  */resetGame();//*************************************************************************/*      ))  \_\  */
/*      \\       */resetGame();//*************************************************************************/*      \\       */
/*       )) _    */resetGame();//*************************************************************************/*       )) _    */
/*       )) __   */          //                      .ed"""" """$$$$be.                     **************/*       )) __   */
/* __   // /_/   */          //                    -"           ^""**$$$e.                  **************/* __   // /_/   */
/* \_\_((_/___   */          //                  ."                   '$$$c                 **************/* \_\_((_/___   */
/*      ))  \_\  */          //                 /                      "4$$b                **************/*      ))  \_\  */
/*      \\       */          //                d  3                     $$$$                **************/*      \\       */
/*       )) _    */          //                $  *                   .$$$$$$               **************/*       )) _    */
/* __   // /_/   */          //               .$  ^c           $$$$$e$$$$$$$$.              **************/* __   // /_/   */
/* \_\_((        */          //               d$L  4.         4$$$$$$$$$$$$$$b              **************/* \_\_((        */
/*      \\       */          //               $$$$b ^ceeeee.  4$$ECL.F*$$$$$$$              **************/*      \\       */
/*      ((       */          //   e$""=.      $$$$P d$$$$F $ $$$$$$$$$- $$$$$$              **************/*      ((       */
/*       )) __   */          //  z$$b. ^c     3$$$F "$$$$b   $"$$$$$$$  $$$$*"      .=""$c  **************/*       )) __   */
/* __   // /_/   */          // 4$$$$L   \     $$P"  "$$b   .$ $$$$$...e$$        .=  e$$$. **************/* __   // /_/   */
/* \_\_((_/___   */          // ^*$$$$$c  %..   *c    ..    $$ 3$$$$$$$$$$eF     zP  d$$$$$ **************/* \_\_((_/___   */
/*      ))  \_\  */          //   "**$$$ec   "\   %ce""    $$$  $$$$$$$$$$*    .r" =$$$$P"" **************/*      ))  \_\  */
/*      \\       */          //         "*$b.  "c  *$e.    *** d$$$$$"L$$    .d"  e$$***"   **************/*      \\       */
/*       )) _    */          //           ^*$$c ^$c $$$      4J$$$$$% $$$ .e*".eeP"         **************/*       )) _    */
/* __   // /_/   */          //              "$$$$$$"'$=e....$*$$**$cz$$" "..d$*"           **************/* __   // /_/   */
/* \_\_((        */          //                "*$$$  *=%4.$ L L$ P3$$$F $$$P"              **************/* \_\_((        */
/*      \\       */          //                   "$   "%*ebJLzb$e$$$$$b $P"                **************/*      \\       */
/*      ((       */          //                     %..      4$$$$$$$$$$ "                  **************/*      ((       */
/*       )) __   */          //                      $$$e   z$$$$$$$$$$%                    **************/*       )) __   */
/* __   // /_/   */          //                       "*$c  "$$$$$$$P"                      **************/* __   // /_/   */
/* \_\_((_/___   */          //                        ."""*$$$$$$$$bc                      **************/* \_\_((_/___   */
/*      ))  \_\  */          //                     .-"    .$***$$$"""*e.                   **************/*      ))  \_\  */
/*      \\       */          //                  .-"    .e$"     "*$c  ^*b.                 **************/*      \\       */
/*       )) _    */          //           .=*""""    .e$*"          "*bc  "*$e..            **************/*       )) _    */
/* __   // /_/   */          //         .$"        .z*"               ^*$e.   "*****e.      **************/* __   // /_/   */
/* \_\_((        */          //         $$ee$c   .d"                     "*$.        3.     **************/* \_\_((        */
/*      \\       */          //         ^*$E")$..$"                         *   .ee==d%     **************/*      \\       */
/*      ((       */          //            $.d$$$*                           *  J$$$e*      **************/*      ((       */
/*       )) __   */          //             """""                             "$$$"   ********************/*       )) __   */
/*       )) __   */        // ,-------------------------------------------------------------------------------------------,**/*       )) __   */
/* __   // /_/   */        // |    .-.     .-.     .-.     .-.     .-.     .-.     .-.     .-.     .-.     .-.     .-.    |**/* __   // /_/   */
/* \_\_((_/___   */        // |  .'   `._.'   `._.'   `._.'   `._.'   `._.'   `._.'   `._.'   `._.'   `._.'   `._.'   `.  |**/* \_\_((_/___   */
/*      ))  \_\  */        // | (    .     .-.     .-.     .-.     .-.     .-.     .-.     .-.     .-.     .-.     .    ) |**/*      ))  \_\  */
/*      \\       */        // |  `.   `. ,'   `. ,'   `. ,'   `. ,'   `. ,'   `. ,'   `. ,'   `. ,'   `. ,'   `. ,'   .'  |**/*      \\       */
/*       )) _    */        // |    )    X       X       X       X       X       X       X       X       X       X    (    |**/*       )) _    */
/* __   // /_/   */        // |  ,'   ,' `.   ,' `.   ,' `.   ,' `.   ,' `.   ,' `.   ,' `.   ,' `.   ,' `.   ,' `.   `.  |**/* __   // /_/   */
/* \_\_((        */        // | (    (     )-(     )-(     )-(     )-(     )-(     )-(     )-(     )-(     )-(     )    ) |**/* \_\_((        */
/*      \\       */        // |  `.   `. ,'   `. ,'   `. ,'   `. ,'   `. ,'   `. ,'   `. ,'   `. ,'   `. ,'   `. .'   .'  |**/*      \\       */
/*      ((       */        // |    )    X       X       X       X       X       X       X       X       X       X    (    |**/*      ((       */
/*       )) __   */        // |  ,'   ,' `.   ,' `.   ,' `.   ,' `.   ,' `.   ,' `.   ,' `.   ,' `.   ,' `.   ,' `.   `.  |**/*       )) __   */
/* __   // /_/   */        // | (    (     )-(     )-(     )-(     )-(     )-(     )-(     )-(     )-(     )-(     )    ) |**/* __   // /_/   */
/* \_\_((_/___   */        // |  `.   `. ,'   `. ,'   `. ,'   `. ,'   `. ,'   `. ,'   `. ,'   `. ,'   `. ,'   `. .'   .'  |**/* \_\_((_/___   */
/*      ))  \_\  */        // |    )    X       X       X       X       X       X       X       X       X       X    (    |**/*      ))  \_\  */
/*      \\       */        // |  ,'   ,' `.   ,' `.   ,' `.   ,' `.   ,' `.   ,' `.   ,' `.   ,' `.   ,' `.   ,' `.   `.  |**/*      \\       */
/*       )) _    */        // | (    (     )-(     )-(     )-(     )-(     )-(     )-(     )-(     )-(     )-(     )    ) |**/*       )) _    */
/* __   // /_/   */        // |  `.   `. .'   `. .'   `. .'   `. .'   `. .'   `. .'   `. .'   `. .'   `. .'   `. .'   .'  |**/* __   // /_/   */
/* \_\_((        */        // |    )    X       X       X       X       X       X       X       X       X       X    (    |**/* \_\_((        */
/*      \\       */        // |  ,'   .' `.   .' `.   .' `.   .' `.   .' `.   .' `.   .' `.   .' `.   .' `.   .' `.   `.  |**/*      \\       */
/*      ((       */        // | (    '  _  `-'  _  `-'  _  `-'  _  `-'  _  `-'  _  `-'  _  `-'  _  `-'  _  `-'  _  `    ) |**/*      ((       */
/*       )) __   */        // |  `.   .' `.   .' `.   .' `.   .' `.   .' `.   .' `.   .' `.   .' `.   .' `.   .' `.   .'  |**/*       )) __   */
/* __   // /_/   */        // |    `-'     `-'     `-'     `-'     `-'     `-'     `-'     `-'     `-'     `-'     `-'    |**/* __   // /_/   */
/* \_\_((_/___   */        // '-------------------------------------------------------------------------------------------**/* \_\_((_/___   */
/*       )) __   */          //                      .ed"""" """$$$$be.                     **************/*       )) __   */
/* __   // /_/   */          //                    -"           ^""**$$$e.                  **************/* __   // /_/   */
/* \_\_((_/___   */          //                  ."                   '$$$c                 **************/* \_\_((_/___   */
/*      ))  \_\  */          //                 /                      "4$$b                **************/*      ))  \_\  */
/*      \\       */          //                d  3                     $$$$                **************/*      \\       */
/*       )) _    */          //                $  *                   .$$$$$$               **************/*       )) _    */
/* __   // /_/   */          //               .$  ^c           $$$$$e$$$$$$$$.              **************/* __   // /_/   */
/* \_\_((        */          //               d$L  4.         4$$$$$$$$$$$$$$b              **************/* \_\_((        */
/*      \\       */          //               $$$$b ^ceeeee.  4$$ECL.F*$$$$$$$              **************/*      \\       */
/*      ((       */          //   e$""=.      $$$$P d$$$$F $ $$$$$$$$$- $$$$$$              **************/*      ((       */
/*       )) __   */          //  z$$b. ^c     3$$$F "$$$$b   $"$$$$$$$  $$$$*"      .=""$c  **************/*       )) __   */
/* __   // /_/   */          // 4$$$$L   \     $$P"  "$$b   .$ $$$$$...e$$        .=  e$$$. **************/* __   // /_/   */
/* \_\_((_/___   */          // ^*$$$$$c  %..   *c    ..    $$ 3$$$$$$$$$$eF     zP  d$$$$$ **************/* \_\_((_/___   */
/*      ))  \_\  */          //   "**$$$ec   "\   %ce""    $$$  $$$$$$$$$$*    .r" =$$$$P"" **************/*      ))  \_\  */
/*      \\       */          //         "*$b.  "c  *$e.    *** d$$$$$"L$$    .d"  e$$***"   **************/*      \\       */
/*       )) _    */          //           ^*$$c ^$c $$$      4J$$$$$% $$$ .e*".eeP"         **************/*       )) _    */
/* __   // /_/   */          //              "$$$$$$"'$=e....$*$$**$cz$$" "..d$*"           **************/* __   // /_/   */
/* \_\_((        */          //                "*$$$  *=%4.$ L L$ P3$$$F $$$P"              **************/* \_\_((        */
/*      \\       */          //                   "$   "%*ebJLzb$e$$$$$b $P"                **************/*      \\       */
/*      ((       */          //                     %..      4$$$$$$$$$$ "                  **************/*      ((       */
/*       )) __   */          //                      $$$e   z$$$$$$$$$$%                    **************/*       )) __   */
/* __   // /_/   */          //                       "*$c  "$$$$$$$P"                      **************/* __   // /_/   */
/* \_\_((_/___   */          //                        ."""*$$$$$$$$bc                      **************/* \_\_((_/___   */
/*      ))  \_\  */          //                     .-"    .$***$$$"""*e.                   **************/*      ))  \_\  */
/*      \\       */          //                  .-"    .e$"     "*$c  ^*b.                 **************/*      \\       */
/*       )) _    */          //           .=*""""    .e$*"          "*bc  "*$e..            **************/*       )) _    */
/* __   // /_/   */          //         .$"        .z*"               ^*$e.   "*****e.      **************/* __   // /_/   */
/* \_\_((        */          //         $$ee$c   .d"                     "*$.        3.     **************/* \_\_((        */
/*      \\       */          //         ^*$E")$..$"                         *   .ee==d%     **************/*      \\       */
/*      ((       */          //            $.d$$$*                           *  J$$$e*      **************/*      ((       */
/*       )) __   */          //             """""                             "$$$"   ********************/*       )) __   */
/*       )) __   *///********************************************************************************************************/*       )) __   */
/* __   // /_/   *///********************************************************************************************************/* __   // /_/   */
/* \_\_((_/___   *///********************************************************************************************************/* \_\_((_/___   */
/*      ))  \_\  *///********************************************************************************************************/*      ))  \_\  */
/*      \\       *///********************************************************************************************************/*      \\       */
/*       )) _    *///********************************************************************************************************/*       )) _    */
/* __   // /_/   *///********************************************************************************************************/* __   // /_/   */
/* \_\_((        *///********************************************************************************************************/* \_\_((        */
/*      \\       *///********************************************************************************************************/*      \\       */
/*      ((       *///********************************************************************************************************/*      ((       */
/*       )) __   *///********************************************************************************************************/*       )) __   */
/* __   // /_/   *///********************************************************************************************************/* __   // /_/   */
/* \_\_((_/___   *///********************************************************************************************************/* \_\_((_/___   */
/*      ))  \_\                __                      __                             __                    __                         ))  \_\*/
/*      \\     __       __     \_\  __          __     \_\  __     __          __     \_\  __          __   \_\  __   __       __     //      */
/*   __  ))    \_\     /_/        \/_/         /_/        \/_/    /_/         /_/        \/_/         /_/      \/_/   \_\     /_/    ((  __   */
/*   \_\_((   .-.  \.-./  .-.   .-./  .-.   .-./  .-.   .-./  .-./  .-.   .-./  .-.   .-./  .-.   .-./  .-.   .-\   .-.  \.-./  .-.  ))_/_/   */
/*        \\_//-\\_//-\\_//-\\_//-\\_//-\\_//-\\_// \\_//-\\_//-\\_//-\\_//-\\_// \\_//-\\_//-\\_//-\\_// \\_//-\\_//-\\_//-\\_//-\\_//       */
/*         '-'\__'-'   '-'\  '-'   '-'  /'-'   '-'\__''    ‘-‘ /_ '-'   '-'\__''   ‘-‘__/‘-‘   '-'\__'-'   '-'__/'-'   ‘-‘\_’ '-'  ‘-‘        */
/*             \_\         \__       __/\          \_\         /_/          \_\      /_/ \__       \_\        \_\                             */
/*                          \_\     /_/  \__                                             /_/                                                  */
/*                                        \_\                                                                                                 */
